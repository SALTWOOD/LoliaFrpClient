<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="LoliaFrpClient.Pages.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LoliaFrpClient.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid x:Name="RootGrid" Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Account Settings Card -->
        <Border Grid.Row="0" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="20"
                Margin="0,0,0,20"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1">
            <StackPanel Spacing="12">
                <TextBlock Text="账户设置" 
                           FontSize="20" 
                           FontWeight="SemiBold"/>
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <Button x:Name="LoginButton" 
                            Content="登录" 
                            Click="LoginButton_Click"
                            HorizontalAlignment="Stretch"
                            MinWidth="100"/>
                    <Button x:Name="LogoutButton" 
                            Content="退出登录" 
                            Click="LogoutButton_Click"
                            HorizontalAlignment="Stretch"
                            MinWidth="100"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Login Status Card -->
        <Border Grid.Row="1" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="20"
                Margin="0,0,0,20"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                Visibility="Collapsed">
            <StackPanel Spacing="12">
                <TextBlock Text="登录状态" 
                           FontSize="20" 
                           FontWeight="SemiBold"/>
                <TextBlock x:Name="LoginStatusText" 
                           Text="未登录"
                           FontSize="14"/>
            </StackPanel>
        </Border>

        <!-- Core Version Management Card -->
        <Border Grid.Row="2" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="20"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1">
            <StackPanel Spacing="16">
                <TextBlock Text="核心版本管理" 
                           FontSize="20" 
                           FontWeight="SemiBold"/>
                
                <!-- Version Info -->
                <StackPanel Spacing="12">
                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" 
                                   Text="当前版本:" 
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                        <TextBlock Grid.Column="1" 
                                   x:Name="CurrentVersionText" 
                                   Text="未安装"
                                   VerticalAlignment="Center"
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                    </Grid>

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" 
                                   Text="最新版本:" 
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                            <TextBlock x:Name="LatestVersionText" 
                                       Text="检查中..."
                                       VerticalAlignment="Center"
                                       FontSize="14"
                                       FontWeight="SemiBold"/>
                            <Button x:Name="RefreshVersionButton" 
                                    Content="刷新"
                                    Click="RefreshVersionButton_Click"
                                    FontSize="12"
                                    Padding="8,4"/>
                        </StackPanel>
                    </Grid>

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" 
                                   Text="安装状态:" 
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                        <TextBlock Grid.Column="1" 
                                   x:Name="InstallStatusText" 
                                   Text="未安装"
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                    </Grid>

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" 
                                   Text="进程状态:" 
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                        <TextBlock Grid.Column="1" 
                                   x:Name="ProcessStatusText" 
                                   Text="未运行"
                                   VerticalAlignment="Center"
                                   FontSize="14"/>
                    </Grid>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <Button x:Name="InstallButton" 
                            Content="安装"
                            Click="InstallButton_Click"
                            MinWidth="100"/>
                    <Button x:Name="UpdateButton" 
                            Content="更新"
                            Click="UpdateButton_Click"
                            MinWidth="100"
                            IsEnabled="False"/>
                    <Button x:Name="UninstallButton" 
                            Content="卸载"
                            Click="UninstallButton_Click"
                            MinWidth="100"
                            IsEnabled="False"/>
                </StackPanel>

                <!-- Progress Bar -->
                <ProgressBar x:Name="DownloadProgressBar"
                            Visibility="Collapsed"
                            Height="8"/>
                
                <!-- Progress Text -->
                <TextBlock x:Name="ProgressText"
                           Text=""
                           Visibility="Collapsed"
                           FontSize="12"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>
        </Border>
    </Grid>
</Page>
